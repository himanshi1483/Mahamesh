@model Mahamesh.Models.ApplicantRegistration
@{
    ViewBag.Title = "User Login";
}
<style>
    .card-signin {
        border: 0;
        border-radius: 1rem;
        box-shadow: 0 0.5rem 1rem 0 rgba(0, 0, 0, 0.1);
    }

        .card-signin .card-title {
            margin-bottom: 2rem;
            font-weight: 300;
            font-size: 1.5rem;
        }

        .card-signin .card-body {
            padding: 2rem;
        }

    .form-signin {
        width: 100%;
    }

        .form-signin .btn {
            font-size: 80%;
            border-radius: 5rem;
            letter-spacing: .1rem;
            font-weight: bold;
            padding: 1rem;
            transition: all 0.2s;
        }

    .form-label-group {
        position: relative;
        margin-bottom: 1rem;
    }

        .form-label-group input {
            height: 34px;
            border-radius: 2rem;
        }

        .form-label-group > input,
        .form-label-group > label {
            padding: var(--input-padding-y) var(--input-padding-x);
        }

        .form-label-group > label {
            position: absolute;
            top: 8px;
            left: 0;
            display: block;
            width: 100%;
            margin-bottom: 0;
            /* Override default `<label>` margin */
            line-height: 1.5;
            color: #495057;
            border: 1px solid transparent;
            border-radius: .25rem;
            transition: all .1s ease-in-out;
        }

        .form-label-group input::-webkit-input-placeholder {
            color: transparent;
        }

        .form-label-group input:-ms-input-placeholder {
            color: transparent;
        }

        .form-label-group input::-ms-input-placeholder {
            color: transparent;
        }

        .form-label-group input::-moz-placeholder {
            color: transparent;
        }

        .form-label-group input::placeholder {
            color: transparent;
        }

        .form-label-group input:not(:placeholder-shown) {
            padding-top: calc(var(--input-padding-y) + var(--input-padding-y) * (2 / 3));
            padding-bottom: calc(var(--input-padding-y) / 3);
        }

            .form-label-group input:not(:placeholder-shown) ~ label {
                padding-top: calc(var(--input-padding-y) / 3);
                padding-bottom: calc(var(--input-padding-y) / 3);
                font-size: 12px;
                color: #777;
            }

    .btn-google {
        color: white;
        background-color: #ea4335;
    }

    .btn-facebook {
        color: white;
        background-color: #3b5998;
    }

    /* Fallback for Edge
    -------------------------------------------------- */

    @@supports (-ms-ime-align: auto) {
        .form-label-group > label {
            display: none;
        }

        .form-label-group input::-ms-input-placeholder {
            color: #777;
        }
    }

    /* Fallback for IE
    -------------------------------------------------- */

    @@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
        .form-label-group > label {
            display: none;
        }

        .form-label-group input:-ms-input-placeholder {
            color: #777;
        }
    }

    .capbox {
        background-color: rgba(0, 0, 0, 0.1);
        border: rgba(0,0,0,.3) 0px solid;
        border-width: 0px 12px 0px 0px;
        display: inline-block;
        *display: inline;
        zoom: 1; /* FOR IE7-8 */
        padding: 8px 40px 8px 8px;
    }

    .capbox-inner {
        font: bold 11px arial, sans-serif;
        color: #000000;
        background-color: #b7e0ff;
        margin: 5px auto 0px auto;
        padding: 3px;
        -moz-border-radius: 4px;
        -webkit-border-radius: 4px;
        border-radius: 4px;
    }

    #CaptchaDiv {
        font: bold 17px verdana, arial, sans-serif;
        font-style: italic;
        color: #000000;
        background-color: #FFFFFF;
        padding: 4px;
        -moz-border-radius: 4px;
        -webkit-border-radius: 4px;
        border-radius: 4px;
    }

    #CaptchaInput {
        margin: 1px 0px 1px 0px;
        width: 135px;
    }
</style>
<div class="container body-content" id="#maincontent" style="margin-bottom:150px;">
    <div class="headerDashboard">
        <div class="col-lg-11 col-md-11 col-sm-11 col-xs-11 headerText">
            <h2>राजे यशवंतराव होळकर महामेष योजना</h2>
        </div>
        <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1" style="text-align:right">
            <img src="~/Images/Raje.jpg" class="img-responsive" alt="Raje Yashwant Holkar" />
        </div>

    </div>
    <div class="panel panel-primary-2" style="box-shadow: 0 2px 2px rgba(0,0,0,.3);">
        <div class="panel-heading panel-primary-2">
            <h5 class="text-center">User Login</h5>
        </div>
        <div class="panel-body text-center">
            <div class="col-sm-6 col-md-6 col-lg-6 mx-auto">
                <div class="panel-body">
                    <h4 class="text-center text-info">अर्जदारांनी अर्ज करण्याबाबतची कार्यवाही</h4>
                    <ol class="text-left" style="font-weight:700">
                        <li style="padding:5px;">अर्जामध्ये दर्शविण्यात आलेल्या मुद्द्यांबाबतची माहिती अर्जदारांनी काळजीपूर्वक भरावी.</li>
                        <li style="padding:5px;">प्रत्येक मुद्द्याची माहिती भरून झाल्यावर SAVE चे बटण दाबावे म्हणजे भरलेली माहिती SAVE होईल.</li>
                        <li style="padding:5px;">त्यानंतर त्याच अर्जामध्ये योजने मधील कोणत्या उपघटकामध्ये लाभ घ्यावयाचा आहे त्याची निवड करण्यात यावी.</li>
                        <li style="padding:5px;">अर्ज सबमीट झाल्यानंतर “Application Form is submitted successfully” असा मेसेज आल्यानंतरच अर्जदाराचा अर्ज निवडीकरिता सादर झाल्याचे समजावे.</li>
                        <li style="padding:5px;">त्यानंतर “View receipt” या बटनावर क्लिक केल्यास अर्जाची पावती अर्जदारास दिसेल, त्याची प्रिंट काढून घ्यावी.</li>
                        <li style="padding:5px;">अर्ज भरण्यापूर्वी व्हिडिओ बघा</li>
                    </ol>
                    <input type="checkbox" name="IsAgreed" id="IsAgreed" /><label for="IsAgreed"> मला वरील अटी/शर्ती मान्य आहेत</label>
                </div>
            </div>
            <div class="col-sm-6 col-md-6 col-lg-6 mx-auto">
                <div class="card card-signin my-5">
                    <div class="card-body">
                        <div style="margin-left:29%;padding-top:20px;padding-bottom:40px"><img src="~/Images/logo1.png" class="img-responsive" alt="Logo" width="180" height="180" /></div>
                        @using (Html.BeginForm("MahameshYojanaUserLogin", "Menu", FormMethod.Post, new { enctype = "multipart/form-data", onsubmit = "return checkform(this);" }))
                        {

                            <div class="form-group" style="padding-bottom:5px !important">
                                @Html.Label("आधारकार्ड क्रमांक लिहा", new { @class = "control-label" })
                                @*<input type="text" id="inputEmail" class="form-control" placeholder="आधारकार्ड क्रमांक लिहा" required autofocus>*@
                                @Html.TextBoxFor(x => x.AdharCardNo, new { @class = "form-control", @placeholder = "आधारकार्ड क्रमांक लिहा", @required = "required", @minlength = 12, @maxlength = 12 })

                            </div>
            
                            <div>
                                <!-- START CAPTCHA -->
                                <br>
                                <div class="capbox">

                                    <div id="CaptchaDiv"></div>

                                    <div class="capbox-inner">
                                        Type the above number:<br>

                                        <input type="hidden" id="txtCaptcha">
                                        <input type="text" name="CaptchaInput" id="CaptchaInput" size="15"><br>

                                    </div>
                                </div>
                                <br><br>
                                <!-- END CAPTCHA -->

                            </div>
                            <br />
                            <button class="btn btn-sm btn-primary btn-block text-uppercase" disabled id="btnLogin" type="submit">लॉगिन करा</button>

                        }
                    </div>
                </div>
            </div>
        </div>
        <div class="panel-footer text-center text-danger">Note: - Will be active from 28/08/2019 to 04/09/2019 11.50 pm</div>
    </div>
</div>
<script src="/Content/Varsity/assets/js/jquery.min.js" type="text/javascript"></script>

<script type="text/javascript">
    $(document).ready(function () {
        var msg = "";
        msg = "@ViewBag.Msg";
        if (msg != "") {
            alert(msg);
        }

        var appStart = new Date();
        appStart = new Date("@Model.appDuration.StartDatetime");
        console.log(appStart);
        var appEnd = new Date();
        appEnd = new Date("@Model.appDuration.EndDatetime");
        console.log(appEnd);
        var currentDate = new Date($.now());
        console.log(currentDate);
    });

    $('#IsAgreed').change(function () {
        if ($('#IsAgreed').is(':checked') == true) {
            $("#btnLogin").prop("disabled", false);
        }
        else {
            $("#btnLogin").prop("disabled", true);
        }
    });

  
    $('#btnLogin').click(function () {
        var appStart = new Date();
        appStart = new Date("@Model.appDuration.StartDatetime");
        console.log(appStart);
        var appEnd = new Date();
        appEnd = new Date("@Model.appDuration.EndDatetime");
        console.log(appEnd);
        var currentDate = new Date($.now());
        console.log(currentDate);
        if ((new Date($.now()) < new Date("@Model.appDuration.StartDatetime")) )
        {
            alert("Not Accepting Applications. Please check Time Table.")
            $("#btnLogin").prop("disabled", true);
        }
        else if ((new Date($.now()) > new Date("@Model.appDuration.EndDatetime")) )
        {
            alert("Not Accepting Applications. Please check Time Table.")
            $("#btnLogin").prop("disabled", true);
        }
        else {
            $("#btnLogin").prop("disabled", false);
        }
    });

      
    
</script>
<script type="text/javascript">

    // Captcha Script

    function checkform(theform) {
        var why = "";

        if (theform.CaptchaInput.value == "") {
            why += "- Please Enter CAPTCHA Code.\n";
        }
        if (theform.CaptchaInput.value != "") {
            if (ValidCaptcha(theform.CaptchaInput.value) == false) {
                why += "- The CAPTCHA Code Does Not Match.\n";
            }
        }
        if (why != "") {
            alert(why);
            return false;
        }
    }

    var a = Math.ceil(Math.random() * 9) + '';
    var b = Math.ceil(Math.random() * 9) + '';
    var c = Math.ceil(Math.random() * 9) + '';
    var d = Math.ceil(Math.random() * 9) + '';
    var e = Math.ceil(Math.random() * 9) + '';

    var code = a + b + c + d + e;
    document.getElementById("txtCaptcha").value = code;
    document.getElementById("CaptchaDiv").innerHTML = code;

    // Validate input against the generated number
    function ValidCaptcha() {
        var str1 = removeSpaces(document.getElementById('txtCaptcha').value);
        var str2 = removeSpaces(document.getElementById('CaptchaInput').value);
        if (str1 == str2) {
            return true;
        } else {
            return false;
        }
    }

    // Remove the spaces from the entered and generated code
    function removeSpaces(string) {
        return string.split(' ').join('');
    }
</script>
